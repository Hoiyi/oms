package com.hu.sysManagement.system.controller;import com.hu.sysManagement.common.config.Constant;import com.hu.sysManagement.common.controller.BaseController;import com.hu.sysManagement.common.service.DictService;import com.hu.sysManagement.common.utils.Result;import org.apache.shiro.authz.annotation.RequiresPermissions;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.stereotype.Controller;import org.springframework.ui.Model;import org.springframework.web.bind.annotation.GetMapping;import org.springframework.web.bind.annotation.PostMapping;import org.springframework.web.bind.annotation.RequestMapping;import org.springframework.web.bind.annotation.ResponseBody;@RequestMapping({"/sys/settings"})@Controllerpublic class SettingsController extends BaseController {    String prefix = "sysManagement/system/setting";    @Autowired    DictService dictService;    @RequiresPermissions({"sys:settings"})    @GetMapping({""})    String personal(Model model) {        model.addAttribute("companyName", Constant.companyName);        model.addAttribute("sessionTimeout", Long.valueOf(Constant.sessionTimeout));        model.addAttribute("defaultPassword", Constant.defaultPassword);        model.addAttribute("suffix", Constant.suffix);        model.addAttribute("generateMode", Constant.generateMode);        model.addAttribute("account", Constant.account);        model.addAttribute("password", Constant.password);        model.addAttribute("smtpServer", Constant.smtpServer);        model.addAttribute("generateModeList", dictService.listByType("generateMode"));        return prefix + "/settings";    }    @RequiresPermissions({"sys:settings"})    @PostMapping({"/updateSysSettings"})    @ResponseBody    Result updateSysSettings(Constant settings) {        Constant.companyName = Constant.companyName;        Constant.defaultPassword = Constant.defaultPassword;        Constant.sessionTimeout = Constant.sessionTimeout;        return Result.ok();    }    @RequiresPermissions({"sys:settings"})    @PostMapping({"/updateEmailSettings"})    @ResponseBody    Result updateEmailSettings(Constant settings) {        Constant.suffix = Constant.suffix;        Constant.generateMode = Constant.generateMode;        Constant.account = Constant.account;        Constant.password = Constant.password;        Constant.smtpServer = Constant.smtpServer;        return Result.ok();    }}